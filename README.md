
# The Chip Shop
A online ordering site for a fast-food takeaway

 ## [The Chip Shop](https://the-chip-shop-pp5-7f84f31ffc3b.herokuapp.com/) Live link
 ## [Github repository](https://github.com/EdelCorbett/the-chip-shop-pp5)

![Mockups](documentation/images/mockup.png)
 ## Strategy

This site is developed for a family run fast food take so customer can view the menu, place an oder and select the option to collect or have their order delivered.

---
## Goals
The Goal of this site is to provide the business with a ordering system where customers can order and pay for their order so it save the staff time.For the customer this site will provide a clear menu and a easy way of ordering and paying for their order.


---


## Agile Methodology
Github projects was use to follow agile principles. Using this help me organise my user stories with acceptance criteria and tasks in to EPICS(milestones), once I had created the user stories I then group them in to 9 different Epics 


### [Project Board](https://github.com/users/EdelCorbett/projects/15)

The Project board was divided in to 4 columns todo, In progress, done and bugs 
----
![](documentation/images/projectboard.png)
----
## MoSCoW Prioritization
In this project MoSCoW was use to prioritize the most important features

## Epics
This project was do in  Epics, each Epic has a list of user stories.

## User Stories
There are 27 user-stories 24 are implemented 3 are for future features. Each user-storie is broken down in to Acceptance Criteria and Tasks.
---
![](documentation/images/user-storie-image.png)
---
### Epic 1 Basic System setup<details><summary>image</summary><img src="./documentation/images/epic1.png"></details>

| #Number   |     User stories     |  Done  |
|--------| ------------- | ------------- | 
|[#1](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/1)   | As a Developer I can setup a project so that begin project  | Yes     | 
| [#2](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/2)   |  As a Developer I can create a database so that store project  |  Yes  |
| [#3](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/3)   | As a Developer I can Deploy project early so that I can continually test the application during development   |  Yes  |
---
### Epic 2 User Registration and login<details><summary>image</summary><img src="./documentation/images/epic2.png"></details>
| #Number   |     User stories     |  Done  |
|--------| ------------- | ------------- | 
|[#5](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/5)   | As a user I can create an account so that i can access my account | Yes     | 
|[#6](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/6)   | As a user I can login so that I can make an order | Yes     | 
|[#23](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/23)   | As a customer I can create a profile so that i can review order history and personal information | Yes     |
----
### Epic 3  Menu <details><summary>image</summary><img src="./documentation/images/epic3.png"></details>
| #Number   |     User stories     |  Done  |
|--------| ------------- | ------------- | 
|[#7](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/7)   | As a customer, I want to browse the menu items available for order| Yes     | 
|[#25](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/25)   | As a customer I can choose an item from the menu and view the items item page so that i can view all relevant information on the item| Yes     | 
|[#8](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/8)   |As a customer I can add menu items to my basket so that i can make an online order | Yes     |
|[#9](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/9)   |As a customer I can update or remove item form basket so that update my order | Yes     |
----
### Epic 4  Menu 
| #Number   |     User stories     |  Done  |
|--------| ------------- | ------------- |
|[#10](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/10)   | As a customer, I want to be able to place an order for delivery or collection | No    |  
|[#11](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/11)   | As a customer I can specify a time so that i received my order at my preferred time| No    |
----
### Epic 4  Collection or delivery
| #Number   |     User stories     |  Done  |
|--------| ------------- | ------------- |
|[#10](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/10)   | As a customer, I want to be able to place an order for delivery or collection | No    |  
|[#11](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/11)   | As a customer I can specify a time so that i received my order at my preferred time| No    |
----
### Epic 5 Payment
| #Number   |     User stories     |  Done  |
|--------| ------------- | ------------- |
|[#12](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/12)   | As a customer I can pay for my order securely using stripe | yes   |  
|[#13](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/13)   | As a customer I can select payment type so that I can choose to pay in cash| No    |
----

### Epic 6 Email
| #Number   |     User stories     |  Done  |
|--------| ------------- | ------------- |
|[#14](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/14)   | As a Customer I can receive an email so that i know my order is comfirmed and payment is accepted| yes   | 
|[#27](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/27)   | As a user I can subscribe so that I can receive newsletter to be informed of new offers| yes   |
-----
### Epic  7 Admin
| #Number   |     User stories     |  Done  |
|--------| ------------- | ------------- |
|[#4](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/4)   | As a Developer I can an Admin Site so that the site can be updated by the Admin|Yes   |
|[#17](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/17)   | As a Admin I can view customer inquiries so that i can contact and follow up on their inquiry|Yes   |
|[#15](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/15)   |As an admin, I want to be able to manage menu items (add, edit, delete) |Yes   |
|[#16](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/16)   | As an admin, I want to be able to view and manage customer orders.| no   |  

### Epic 8 inquiries and reviews
| #Number   |     User stories     |  Done  |
|--------| ------------- | ------------- |
|[#18](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/18)   | As a customer I can submit an inquiry form so that I can find out about booking party food| yes   | 
|[#19](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/19)   | As a customer I can submit a review so that i can share my opinion with others| yes   |
|[#20](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/20)   | As a customer I can edit my review so that should i change my opinion| yes   |
|[#21](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/21)   | As a customer I can delete my review so that my review is not display| yes   |
----
### Epic 9 Newsletter and favorites list
| #Number   |     User stories     |  Done  |
|--------| ------------- | ------------- |
|[#24](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/24)   | As a customer I can add my favorite menu item to list so that I can access them easy of ordering| yes   | 
|[#22](https://github.com/EdelCorbett/the-chip-shop-pp5/issues/22)   | As a Admin I can create a newsletter subscripition so that I can keep customers informed of menu changes and deals| yes   |




## Wireframes
| PAGE                  |   Wireframes    |
|-----------------------------|------------|
|  Home          | <details><summary>image</summary><img src="./documentation/wireframes/desktop-home.png"></details> | 
|   Sign up /register        | <details><summary>image</summary><img src="./documentation/wireframes/desktop-signup.png"></details> | 
|  Sign up mobile         | <details><summary>image</summary><img src="./documentation/wireframes/mobile-signup.png"></details> | 
| Menu Mobile         | <details><summary>image</summary><img src="./documentation/wireframes/mobile-menu.png"></details> | 
|  Home Mobile          | <details><summary>image</summary><img src="./documentation/wireframes/mobile-home.png"></details> |

-------
## Entity Relationship Diagram
![Entity-Relationship Diagram](documentation/images/erd-image.png)

The Data model user in this project were for
### Menu App
#### Category Model
| Name          | Field Type    |
| ------------- | ------------- | 
|    name  | CharFeild     | 
|    friendly_name |  CharField  |
---
 #### Menuitem Model
| Name          | Field Type    |
| ------------- | ------------- | 
| category  | ForeignKey   | 
|   name| CharField   |
|   description | TextField |
| price | DecimalField |
|   image_url |  URLField    |
|    image |  ImageField   |
----
#### Favorite
| Name          | Field Type    |
| ------------- | ------------- | 
|   user | ForeignKey   | 
|  menuitem| ForeignKey  |
   
----

### Checkout App

#### Order Model
| Name          | Field Type    |
| ------------- | ------------- | 
| order_number  | CharField  | 
|   user_profile | ForeignKey   |
|  full_name| CharField  |
|   email | EmailField|
|    phone_number | CharField    |
|    country |  CountryField  |
| postcode |  CharField |
|       town_or_city |  CharField  |
 |   street_address1 |   CharField  |
|    street_address2 |   CharField  |
|  county|  CharField  |
|     date|  DateField  |
|  delivery |  DecimalField |
| order_total|  DecimalField  |
|     grand_total|  DecimalField  |
|   original_basket|  TextField  |
|    stripe_pid| CharField   |
----
####  OrderLineItem
| Name          | Field Type    |
| ------------- | ------------- | 
| order  | ForeignKey | 
|   menuitem | ForeignKey   |
  quantity|  IntegerField|
|   lineitem_total | DecimalField|
----

### Profiles App

#### UserProfile
| Name          | Field Type    |
| ------------- | ------------- | 
|user  |  OneToOneField | 
|    default_phone_number | CharField    |
|    default_country |  CountryField  |
| default_postcode |  CharField |
|       default_town_or_city |  CharField  |
 |   default_street_address1 |   CharField  |
|    default_street_address2 |   CharField  |
|  default_county|  CharField  |
| default_delivery_option | CharField |
----

### Review App
| Name          | Field Type    |
| ------------- | ------------- | 
| user  | ForeignKey  | 
|  menuitem  |ForeignKey  |
| rating |  IntegerField |
|   message | TextField|
|  created_at | DateTimeField |
|  comment  | TextField |
----

### Inquiry App
| Name          | Field Type    |
| ------------- | ------------- | 
| name  | CharField | 
|   email | EmailField   |
| phone|  CharField |
|   message | TextField|
|  created_at | DateTimeField |
|  contacted | BooleanField |

---
---
# CRUD
## Create  
- The user can create an account
- The user can create a Order 
- The user can create a Review and rating
- Admin can create menuitems
- Admin can create Orders 
 
## Read 
- The user can read their Order
- The user can read the Review and rating
- The user can read thier profile
- Admin can read Reviews
- Admin can view menu

## Update 
- The user update thier Profile
- The user can update their Review and Rating 
- Admin can update menu

## Delete
- The user can delete their Review and rating
- Admin can delete Menuitem 
- Admin can delete Review and rating
- Admin can delete Users



## User Experience UX

- Vistor to this site are here to view menu and make an order. The design is simple with an easy checkout process and a clear menu with images. 
----
# Features  
<details><summary>Click the arrows to display screenshot of Pages</summary><img></details>

<details><summary>Home Page</summary>
<img src="./documentation/images/home-page.png">
</details>
<details><summary>
Menu Page</summary>
<img src="./documentation/images/menu-page.png">
</details>
<details><summary>
Menu Page As Admin</summary>
<img src="./documentation/images/admin-menu-page.png">
</details>
<details><summary>
Menu Detail Page</summary>
<img src="./documentation/images/menudetail-page.png">
</details>
<details><summary>
Basket Page</summary>
<img src="./documentation/images/basket-page.png">
</details>
<details><summary>
Delivery option Page</summary>
<img src="./documentation/images/delivery-option-page.png">
</details>
<details><summary>
Sign In Page</summary>
<img src="./documentation/images/sign-in-page.png">
</details>
<details><summary>
Checkout Page</summary>
<img src="./documentation/images/checkout-page.png">
</details>
<details><summary>
Sign Out Page</summary>
<img src="./documentation/images/signout-page.png">
</details>
<details><summary>
Menu Management Page</summary>
<img src="./documentation/images/menu-management.png">
</details>
<details><summary>
Profiles Page</summary>
<img src="./documentation/images/profiles-page.png">
</details>
<details><summary>View Order Page</summary>
<img src="./documentation/images/view-orders-page.png">
</details>
<details><summary>Contact Us Page</summary>
<img src="./documentation/images/view-orders-page.png">
</details>
<details><summary>Contact Us Success Page</summary>
<img src="./documentation/images/inquiry-success.png">
</details>
<details><summary>Menudetail if Superuser Page</summary>
<img src="./documentation/images/menu-detail-super.png">
</details>
<details><summary>Review Page</summary>
<img src="./documentation/images/review-page.png">
</details>
<details><summary>Edit Review Page</summary>
<img src="./documentation/images/edit-review.png">
</details>
<details><summary>Delete Review button</summary>
<img src="./documentation/images/delete-review.png">
</details>
<details><summary>Navbar Page</summary>
<img src="./documentation/images/navbar.png">
</details>
<details><summary>Category Navbar </summary>
<img src="./documentation/images/category-nav.png">
</details>
<details><summary>Toast</summary>
<img src="./documentation/images/toasts.png">
</details>
<details><summary>Favorites</summary>
<img src="./documentation/images/favorites-carousal.png">
</details>
<details><summary>Footer</summary>
<img src="./documentation/images/footer.png">
</details>

----

### Colours 
The colours use to build the site were :
Main Colors for Header,Background and Foot
- #a6a6a6
- #2f3335
![](documentation/images/colorplatte.png)

For Buttons bootstraps colors
- Primary blue 
- Danger red
- Secondary grey
---
![](documentation/images/boothstrap-buttons.png)

----
## Allauth Authentication
Django allauth was use to let users signup and login securly.

## SEO Search Engine Optimization
- Meta tag for descriptions and keywords were use.
- [XML-sitemaps](https://www.xml-sitemaps.com/) was use to create the site map of the urls from deployed site then this file was add to root level of project
- A robots.txt file was add to the root level project of project inside this file add 

        User-agent: *
        Disallow: /accounts/
        Disallow: /basket/
        Sitemap: https://the-chip-shop-pp5-7f84f31ffc3b.herokuapp.com/sitemap.xml


## Marketing 

### Newletter
-  [Mail Chimp](https://mailchimp.com/?) was use to create a subscription form so user can subcribe to receive a newletter to keep in formed of deal and menu changes this form is displayed in the footer.
![](documentation/images/mail-chimp.png)

### Facebook Page
A facebook business page was created and linked in the footer
[Facebook link](https://www.facebook.com/profile.php?id=61558446350569)
![](documentation/images/facebook-page.png)

### Privacy Policy 
The privacy policy was generated using it can be access by clicking link in footer
[Privacy Policy Generator](https://www.privacypolicygenerator.info/)
![](documentation/images/privacy-policy.png)

### 404 and 500 error pages

## Deployment
### Heroku
This Project was deployed through [HEROKU](https://www.heroku.com/) using these steps:

1. Create a Heroku account 
2. Then select New 
3. [Select Create new app](documentation/heroku/heroku-new.png)
4. Name the App, select region
5. [Select Create app](documentation/heroku/name_region.png)
6. [Then select Settings from the menu bar](documentation/heroku/setting.png)

7. From here scroll down to Config Vars and the KEY and VALUE to the list
 ![](documentation/heroku/configvars.png)
8. Next add build packs for this project Python was used
9. [Then go to Deploy in the menu bar](documentation/heroku/deploy.png)
10. [Choose GitHub then choose connect to github](documentation/heroku/deploy-method.png)
11. Now enter repository name in search 
12. Then click connect
13. From here scroll down and pick either automatic Deploy or manual deploy
14. [The app is now been built](documentation/heroku/building.png)
15. [Once this has finished click view to go to app](documentation/heroku/deployed_success.png)

### Local deployment

1. Clone the repository.

 - https://github.com/EdelCorbett/the-chip-shop-pp5

 2. Set up a virtual environment.

- Use the command 

        python3 -m venv venv 
        
   to create a new virtual environment named 'venv'.
- Activate the virtual environment with 

        source venv/bin/activate.

3. Install necessary packages.
 Then Run

        pip install -r requirements.txt 
        
        
   to install the dependencies required for the project.

 4. Create a env.py file.

 5.

 - Import the os module with import os.
 - Set your secret key with os.environ["SECRET_KEY"] = 'your secret key'.
 - Provide the database URL with os.environ["DATABASE_URL"] = 'your database url'

6. In settings.py File
 - Specify the debug mode ["DEBUG"] = 'True' or 'False'.
- Define the allowed hosts with os.environ["ALLOWED_HOSTS"] = 'app name.herokuapp.com','localhost'.
- Add  to installed apps
 

6. Set up and configure the database.

- Create the database
- Apply migrations to the Database 

- In terminal first run 

        python manage.py makemigrations

    Then Run
    
        python manage.py migrate

7. Create the superuser.

    In terminal
    
       python manage.py createsuperuser

8. Then you be promted to enter a user name and password once this is done

        python manage.py runserver

### Setting Up a Database with ElephantSQL

1. Go to [ElephantSQL website](https://www.elephantsql.com/) and register for a new account.

2. Once registered, create a new database instance.

3. Assign a unique name to your database and opt for the free tier plan.

4. Proceed by clicking on "Select Region".

5. Choose a region that is close to you 

6. Review your selections by clicking on "Review".

7. Create your new database instance by clicking on "Create Instance".

8. Access your new database by clicking on its name, which will take you to the dashboard.

9. In the dashboard, you'll find the URL for your database. You'll need this URL to connect your Django project to the database.
### Forking a Repository
Forking a repository allow you to make a copy of the repository so you can make changes with out affecting the main repository.

#### Steps to forking 
1. Go to Github account
2. Then choose the repository you wish to copy
3. Now at the right hand coner of the page select the "fork" button
4. Now the copy for the repository is availble




# Technologies And Languages

## Languages 

- [HTML](https://html.com/)
- [CSS](https://www.w3.org/Style/CSS/Overview.en.html)
- [JavaScript](https://www.javascript.com/)
- [Bootstrap](https://getbootstrap.com/docs/4.0/getting-started/introduction/)
- [Python](https://www.python.org/)
- [Django](https://www.djangoproject.com/)
---
## Imported 
- [Django-allauth](https://pypi.org/project/django-allauth/) authentication library used to create the user accounts.

- [Gunicorn](https://pypi.org/project/gunicorn/)  web server used to run the website

- [Django-crispy-forms](https://django-crispy-forms.readthedocs.io/en/latest/)

- [Dj-database-url](https://pypi.org/project/dj-database-url/)

- [Psycopg2](https://www.psycopg.org/)
- [Pillow](https://pypi.org/project/pillow/)
- [djang-storages](https://django-storages.readthedocs.io/en/latest/)
- [boto3](https://pypi.org/project/boto3/)

---
## Technologies Used
 - [ElephantSQL website](https://www.elephantsql.com/) 
 - [VS Code](https://code.visualstudio.com/)
 - [Balsamiq](https://balsamiq.com/)
 - [Favicon](https://favicon.io/)
 - [GitHub](https://github.com/)
 - [AWS](https://aws.amazon.com/)
 - [Stripe](https://stripe.com/en-ie)
 - [Coolors](https://coolors.co/)
 - [Chatgpt](https://chat.openai.com)
 - [amiresponsive](https://ui.dev/amiresponsive) Mockup
 - [dbdiagram.io](https://dbdiagram.io/) was used to create Entity Relationship Diagram
---
### Stripe
- Create an account with [Stripe](https://stripe.com/en-ie)
- Go to the developers link 
- Then select API keys and copy the SECERT_KEY and the PUBLIC_KEY 
- Add them to env.py
- Go to Webhooks and add the endpoint the endpoint is the deployed sites url with /checkout/wh/
- choose events for your webhooks
---

### AWS 
Aws use used for static files and images
- Create an account [AWS](https://aws.amazon.com/)
- Navigate to s3
- Then Create bucket
- In General configuration Name your bucket
- Then in Object Ownership click  ACLs enabled to allow access to the objects in the bucket
- Now in Block Public Access settings for this bucket deselect Block all public access
- then click Create bucket
- Now the following setting should be edited in the Bucket Properties
  - Scroll to end of page to Static website hosting click edit
   - Now check Static website hosting is enable and hosting type is Host a static website
  - add index.html to Index document and error.html to the Error document and Save changes

- Next go to Premmissions tab 
  - scroll to Cross-origin resource sharing (CORS) 
        - click edit and add 

        
        [
        {
                "AllowedHeaders": [
                "Authorization"
                ],
                "AllowedMethods": [
                "GET"
                ],
                "AllowedOrigins": [
                "*"
                ],
                "ExposeHeaders": []
        }
        ]

- Now to the bucket policy click edit and copy the Bucket ARN
   
- click policy generator and input 
   -  Type of Policy - S3 Bucket Policy
   - Effect Allow
   - Principal *
   - AWS Service Amazon S3
   - Actions: GetObject
   - ARN 

- next click add statment, generate policy and copy the  policy
- go back to policy editor an paste in this policy
- Add "/*" to the end of the resource key 
- Save Changes
- In Access control list (ACL) click edit
   - enable List for Everyone (public access)
   - click accept in warning box 

### Next Go to 
- Identity and Access Management (IAM)
  - Here create a group user 
  go to policies and click create policy
  - click actions and import policy 
  find AmazonS3FullAccess and select it  then import
  select JSON to view policy
  - now copy the ARN from the bucket policy page 
  - paste it into Resource section 
  - now add it again but add /* to  the end
  - next add policy name and description 
  - click create policy 

- Attach policy
  - Click User Group 
  - Select your user group name
  - Click Attach policy
  - find the policy select it and Click attach policy


- Create User 
  - Select User from menu on left 
  - click Add User
  - input user name
  - Select Provide user access to the AWS Management Console then click next
  - Click Add user to group select the user group you created and click create user 
  - Copy the Access key ID and the Secret access key 
  - Download.csv to save copy of






## Testing 
All Testing in [TESTING.md](./TESTING.md)
- [W3C HTML Validator](https://validator.w3.org/) for Html testing
- [W3C CSS Validator](https://jigsaw.w3.org/css-validator/) for Css testing 
- [Js Hint](https://jshint.com/) for javascript testing
- [CI Python Linter](https://pep8ci.herokuapp.com/) for Python testing
  
---

## Credits 
* [Code Institute](https://codeinstitute.net/) Boutique Ado walk-through project
* [Very Academy](https://www.youtube.com/@veryacademy) tutorials for understanding of django
* [Codemycom](https://www.youtube.com/@Codemycom) tutorials for understanding of django
* [Pixbay](https://pixabay.com/)  Images
* [Unsplash](https://unsplash.com/) Images
* [Pexels](https://www.pexels.com/)  Images

* [Font awesome](https://fontawesome.com/): Icons
* [Coolors](https://coolors.co/) generate color palette

## Acknowledgements 
I would like to acknowledge 
* [Code Institute](https://codeinstitute.net/)
* Juliia Konn My Mentor for her advice and support during the project.
* My Family members who help me test the app 
* This project was built for educational purposes by Edel Corbett  